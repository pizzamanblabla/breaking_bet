services:
    breaking_bet.bet.update.betsbc.data_parser:
        class: BreakingBetBundle\Internal\DataParser\DataParser
        arguments:
            - '@breaking_bet.bet.update.betsbc.data_extractor'
            - '@breaking_bet.bet.update.betsbc.data_corrector'
            - '@logger'

    breaking_bet.bet.update.betsbc.data_extractor:
        class: BreakingBetBundle\Interaction\DataExtractor\HttpResponse\Content
        arguments:
            - '@breaking_bet.bet.update.betsbc.data_extractor.unwrapper'
            - '@breaking_bet.payload_modifier.json'

    breaking_bet.bet.update.betsbc.data_extractor.unwrapper:
        class: BreakingBetBundle\Internal\DataExtractor\Unwrapper
        arguments:
            - 'reply'

    breaking_bet.bet.update.betsbc.data_corrector:
        class: BreakingBetBundle\Internal\DataCorrector\Composite
        arguments:
            -
                - '@breaking_bet.bet.update.betsbc.data_corrector.keys_swapper'

    breaking_bet.bet.update.betsbc.data_corrector.keys_swapper:
        class: BreakingBetBundle\Internal\DataCorrector\KeySwapper
        arguments:
            -
                sports: 'kinds'
                id_sp: 'externalId'
                chmps: 'chains'
                name_sp: 'name'
                evts: 'events'
                name_ch: 'name'
                id_ch: 'externalId'
                id_ev: 'externalId'
                name_ht: 'name'
                id_ht: 'externalId'
                date_ev_str: 'date'
                main: 'bets'